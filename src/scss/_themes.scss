////
/// @group o-card theme styles
/// @link http://registry.origami.ft.com/components/o-card
////

/// Stand alone card theme styles
///
/// @param {String} $modifier [stand-alone] - the modifier classname you want to use
@mixin oCardThemeStandalone($modifier: 'standalone') {
	// e.g. .o-card--standalone
	&--#{$modifier} {
		border-bottom: 1px solid oColorsGetColorFor(o-card-shadow, shadow);
	}
}

/// Stand out card theme styles
///
/// @param {String} $modifier [standout] - the modifier classname you want to use
@mixin oCardThemeStandout($modifier: 'standout') {
	// e.g. .o-card--standout
	&--#{$modifier} {
		@include oColorsFor(o-card-standout, background);
	}
}

/// Portrait card theme styles
///
/// @param {String} $modifier [portrait] - the modifier classname you want to use
@mixin oCardThemePortrait($modifier: 'portrait') {

}

/// Landscape card theme base styles
/// modifies block elements tag, standfirst, timestamp, image, and heading
/// to adapt to a landscape/horizontal layout
///
/// @param {String} $modifier [landscape] - the modifier classname you want to use
@mixin oCardThemeLandscape($modifier: 'landscape') {
	// e.g. .o-card--landscape
	&--#{$modifier} {
		flex-direction: row;
		flex-wrap: wrap;
		justify-content: space-between;
	}

	// e.g. .o-card--landscape.o-card--image-right
	&--#{$modifier}#{&}--image-right {
		position: relative;
	}

	// e.g. .o-card--landscape .o-card__heading
	&--#{$modifier} &__heading {
		width: 100%;
		// Order third so it will appear after a left aligned image and
		// before a right aligned image (see above)
		order: 3;
	}

	&--image-right &__heading {
		@include oCardThemeLandscapeHeader('left');
	}

	&--image-left &__heading {
		@include oCardThemeLandscapeHeader('right');
	}

	&--#{$modifier} &__tag,
	&--#{$modifier} &__standfirst,
	&--#{$modifier} &__timestamp {
		clear: left;
		width: 100%;
		flex: 0 0 100%;
	}

	&--#{$modifier} &__standfirst {
		order: 4;
	}

	&--#{$modifier} &__timestamp {
		order: 5;
	}
}

/// Modifies header styles when on a landscape card
///
/// @param {String} $alignment [left] - the alignment of the header on the card
@mixin oCardThemeLandscapeHeader($alignment: 'left') {
	@if $alignment == 'left' {
		width: 45%;
		padding-right: $o-card-spacing-unit;
	} @else {
		// Combine the image size and spacing unit for use in calc()
		$_full-image-size: $o-card-image-width + $o-card-spacing-unit;
		// Float and width are for <=IE9 where flexbox is not supported
		float: left;
		// Basic size for a heading <IE9
		width: 60%;
		// More accurate size for a heading in IE9, uses 95% as the image has a 5% margin-right
		width: calc(95% - #{$_full-image-size});
		// Heading should be at least 50% width, otherwise it will flow beneath the image
		// Will grow to fill the remaining space when an image is left aligned and 100px
		// or 100% of the space if there is no image
		flex: 1 1 50%;
		padding-right: $o-card-spacing-unit;
	}
}
